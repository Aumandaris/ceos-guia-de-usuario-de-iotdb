Herramientas de sistema
#
Cargar herramienta TsFile externa
#
Introducción

La herramienta load external tsfile permite a los usuarios cargar tsfiles, eliminar un tsfile o mover un tsfile al directorio de destino desde la instancia de Apache IoTDB en ejecución.
#
Uso

El usuario envía comandos específicos al sistema Apache IoTDB a través de la herramienta Cli o JDBC para usar la herramienta.
#
cargar archivos ts

El comando para cargar tsfiles es load "<ruta / dir>" [verdadero / falso] [nivel de grupo de almacenamiento].

Este comando tiene dos usos:

    Cargue un solo archivo ts especificando una ruta de archivo (ruta absoluta).

El segundo parámetro indica la ruta del archivo ts a cargar y el nombre del archivo ts debe ajustarse a la convención de nomenclatura del archivo ts, es decir, {systemTime} - {versionNum} - {mergeNum} .tsfile. Los parámetros tercero y cuarto son opcionales. Si los metadatos corresponden a la serie temporal en el archivo ts que se va a cargar no existe, puede elegir si desea crear el esquema automáticamente. Si el tercer parámetro es verdadero, el esquema se crea automáticamente. Si el tercer parámetro es falso, no se creará el esquema. De forma predeterminada, se creará el esquema. Si el grupo de almacenamiento que corresponde al archivo ts no existe, el usuario puede establecer el nivel del grupo de almacenamiento a través del cuarto parámetro. De forma predeterminada, utiliza el nivel de grupo de almacenamiento que se establece en iotdb-engine.properties. Si existe el archivo .resource correspondiente al archivo, se cargará en el directorio de datos y el motor de Apache IoTDB. De lo contrario, el archivo .resource correspondiente se volverá a generar a partir del archivo tsfile.

Ejemplos:

    cargar "/Users/Desktop/data/1575028885956-101-0.tsfile"
    cargar "/Users/Desktop/data/1575028885956-101-0.tsfile" falso
    cargar "/Users/Desktop/data/1575028885956-101-0.tsfile" verdadero
    load "/Users/Desktop/data/1575028885956-101-0.tsfile" verdadero 1

    Cargue un lote de archivos especificando una ruta de carpeta (ruta absoluta).

El segundo parámetro indica la ruta del archivo ts a cargar y el nombre de los archivos ts debe ajustarse a la convención de nomenclatura de archivos ts, es decir, {systemTime} - {versionNum} - {mergeNum} .tsfile. Los parámetros tercero y cuarto son opcionales. Cuando los metadatos correspondientes a la serie temporal en el archivo ts a cargar no existen, puede elegir si desea crear el esquema automáticamente. Si el tercer parámetro es verdadero, el esquema se creará automáticamente. Si el tercer parámetro es falso, no se creará el esquema. De forma predeterminada, se creará el esquema. Cuando el grupo de almacenamiento correspondiente a tsfile no existe, el usuario puede establecer el nivel del grupo de almacenamiento a través del cuarto parámetro. De forma predeterminada, utilizará el nivel de grupo de almacenamiento que se establece en iotdb-engine.properties. Si el archivo .resource correspondiente al archivo existe, se cargarán en el directorio de datos y el motor de Apache IoTDB. De lo contrario, los archivos .resource correspondientes se volverán a generar a partir del archivo tsfile.

Ejemplos:

    cargar "/ Usuarios / Escritorio / datos"
    cargar "/ Users / Desktop / data" falso
    cargar "/ Users / Desktop / data" verdadero
    load "/ Users / Desktop / data" verdadero 1

#
eliminar un archivo ts

El comando para eliminar un archivo ts es: eliminar "<ruta>".

Este comando elimina un archivo ts especificando la ruta del archivo. La implementación específica es eliminar el tsfile y sus correspondientes archivos .resource y.modification.

Ejemplos:

    eliminar "root.vehicle / 1575028885956-101-0.tsfile"
    eliminar "1575028885956-101-0.tsfile"

#
mover un archivo ts a un directorio de destino

El comando para mover un archivo ts al directorio de destino es: mover "<ruta>" "<dir>".

Este comando mueve un archivo ts a un directorio de destino especificando la ruta del archivo ts y el directorio de destino (ruta absoluta). La implementación específica es eliminar el archivo tsfile del motor y mover el archivo tsfile y su archivo .resource correspondiente al directorio de destino.

Ejemplos:

    mover "root.vehicle / 1575029224130-101-0.tsfile" "/ data / data / tmp"
    mover "1575029224130-101-0.tsfile" "/ data / data / tmp"
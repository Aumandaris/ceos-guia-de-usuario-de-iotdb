<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Apéndice 2: Referencia de SQL :: Guía de Usuario de IoTDB</title>
    <link rel="canonical" href="https://aumandaris.github.io/ceos-guia-de-usuario-de-iotdb/ceos-guia-de-usuario-de-iotdb/0.12.x/index.html/ceos-guia-de-usuario-de-iotdb/0.12.x/apendice/referencia-de-sql.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://aumandaris.github.io/ceos-guia-de-usuario-de-iotdb/ceos-guia-de-usuario-de-iotdb/0.12.x/index.html">
        <img src="/ceos-guia-de-usuario-de-iotdb/ceos-guia-de-usuario-de-iotdb/0.12.x/_images/ceos-logo.png" width="40">
        <span>Guía de Usuario de IoTDB<span>     
      </a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ceos-guia-de-usuario-de-iotdb" data-version="0.12.x">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Guía de Usuario de IoTDB</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introducción a IoTDB</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduccion-a-iotdb/que-es-iotdb.html">Qué es IoTDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduccion-a-iotdb/arquitectura.html">Arquitectura</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#introduccion-a-iotdb/escenario.adoc">Escenarios</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduccion-a-iotdb/caracteristicas.html">Características</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduccion-a-iotdb/publicacion.html">Publicación</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Inicio Rápido</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../inicio-rapido/inicio-rapido.html">Inicio Rápido</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../inicio-rapido/configuracion-de-ruta-de-almacenamiento.html">Configuración de Ruta de Almacenamiento</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../inicio-rapido/obtener-archivos-binarios-de-iotdb.html">Obtener Archivos Binarios de IoTDB</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Concepto de Datos</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/modelo-de-datos-y-terminologia.html">Modelo de Datos y Terminología</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/tipo-de-datos.html">Tipo de Datos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/codificacion.html">Codificación</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/compresion.html">Compresión</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/sdt.html">SDT</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Interfaz de Línea de Comandos</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../interfaz-de-linea-de-comandos/interfaz-de-linea-de-comandos.html">Interfaz de Línea de Comandos</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Gestión de la Administración</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../gestion-de-la-administracion/administracion.html">Administración</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lenguaje IoTDB-SQL</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lenguaje-iotdb-sql/ddl-lenguaje-de-definicion-de-datos.html">DDL (Lenguaje de Definición de Datos)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lenguaje-iotdb-sql/dml-lenguaje-de-manipulacion-de-datos.html">DML (Lenguaje de Manipulación de Datos)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lenguaje-iotdb-sql/comando-de-mantenimiento.html">Comando de Mantenimiento</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API (Interfaz de Programación de Aplicaciones)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api-interfaz-de-programacion-de-aplicaciones/jdbc.html">JDBC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api-interfaz-de-programacion-de-aplicaciones/api-nativa.html">API Nativa</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api-interfaz-de-programacion-de-aplicaciones/otros-lenguajes.html">Otros Lenguajes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api-interfaz-de-programacion-de-aplicaciones/api-tsfile.html">API TsFile</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">UDF (Función Definida por el Usuario)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../udf-funcion-definida-por-el-usuario/udf-funcion-definida-por-el-usuario.html">Función Definida por el Usuario</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Protocolo de Servicio de Comunicación</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../protocolo-de-servicio-de-comunicacion/thrift.html">Thrift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../protocolo-de-servicio-de-comunicacion/mqtt.html">MQTT</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Herramientas del Sistema</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../herramientas-del-sistema/cargar-herramienta-tsfile-externa.html">Cargar Archivo Ts Externo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../herramientas-del-sistema/herramienta-de-seguimiento-del-rendimiento.html">Herramienta de Seguimiento del Rendimiento</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../herramientas-del-sistema/herramienta-csv.html">Herramienta CSV</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../herramientas-del-sistema/herramientas-de-monitoreo-y-registro.html">Herramientas de Monitorep y Registro</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../herramientas-del-sistema/herramienta-jmx.html">Herramienta JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../herramientas-del-sistema/herramienta-mlogparser.html">Herramienta MLogParser</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../herramientas-del-sistema/herramienta-node.html">Herramienta Node</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../herramientas-del-sistema/herramienta-de-visualizacion-del-historial-de-consultas.html">Herramienta de Visualización del Historial de Consultas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../herramientas-del-sistema/herramienta-de-marca-de-agua.html">Herramienta de Marca de Agua</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Colaboración de Edge y Cloud</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../colaboracion-de-edge-y-cloud/herramienta-de-sincronizacion.html">Herramienta de Sincronización</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integración de Ecosistemas</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integracion-de-ecosistemas/grafana.html">Grafana</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Preguntas Frecuentes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../preguntas-frecuentes/preguntas-frecuentes.html">Preguntas Frecuentes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Apéndice</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual-de-configuracion.html">Manual de Configuración</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="referencia-de-sql.html">Referencia SQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="codigos-de-estado.html">Códigos de Estado</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Guía de Usuario de IoTDB</span>
    <span class="version">0.12.x</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Guía de Usuario de IoTDB</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">0.12.x</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Guía de Usuario de IoTDB</a></li>
    <li>Apéndice</li>
    <li><a href="referencia-de-sql.html">Referencia SQL</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/Aumandaris/ceos-guia-de-usuario-de-iotdb/edit/master/modules/ROOT/pages/apendice/referencia-de-sql.adoc">Editar esta página</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Apéndice 2: Referencia de SQL</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>En esta parte, le presentaremos el lenguaje de consulta de IoTDB. IoTDB le ofrece un lenguaje de consulta similar a SQL para interactuar con IoTDB, el lenguaje de consulta se puede dividir en 4 partes principales:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Esquema: todas las declaraciones sobre la gestión de esquemas se enumeran en esta sección.</p>
</li>
<li>
<p>Declaración de Gestión de Datos: las declaraciones sobre la gestión de datos (como: inserción de datos, consulta de datos, etc.) se enumeran en esta sección.</p>
</li>
<li>
<p>Declaración de Administración de la Base de Datos: las declaraciones sobre la administración y autenticación de la base de datos se enumeran en esta sección.</p>
</li>
<li>
<p>Funciones: las funciones que ofrece IoTDB se enumeran todas en esta sección.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Todas estas declaraciones están escritas en la propia sintaxis de IoTDB, para obtener detalles sobre la composición de la sintaxis, consulte la sección de [Referencia].</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mostrar_versión"><a class="anchor" href="#_mostrar_versión"></a>Mostrar Versión</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">show version</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">+---------------+
|        version|
+---------------+
|0.12.0-SNAPSHOT|
+---------------+
Total line number = 1
It costs 0.417s</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_declaración_de_esquema"><a class="anchor" href="#_declaración_de_esquema"></a>Declaración de Esquema</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Establecer Grupo de Almacenamiento</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SET STORAGE GROUP TO &lt;FullPath&gt;
Eg: IoTDB &gt; SET STORAGE GROUP TO root.ln.wf01.wt01
Note: FullPath can not include `*`</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Eliminar Grupo de Almacenamiento</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">DELETE STORAGE GROUP &lt;FullPath&gt; [COMMA &lt;FullPath&gt;]*
Eg: IoTDB &gt; DELETE STORAGE GROUP root.ln.wf01.wt01
Eg: IoTDB &gt; DELETE STORAGE GROUP root.ln.wf01.wt01, root.ln.wf01.wt02
Eg: IoTDB &gt; DELETE STORAGE GROUP root.ln.wf01.*
Eg: IoTDB &gt; DELETE STORAGE GROUP root.*</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Crear Serie Temporal</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">CREATE TIMESERIES &lt;FullPath&gt; WITH &lt;AttributeClauses&gt;
alias
    : LR_BRACKET ID RR_BRACKET
    ;
attributeClauses
    : DATATYPE OPERATOR_EQ dataType COMMA ENCODING OPERATOR_EQ encoding
    (COMMA (COMPRESSOR | COMPRESSION) OPERATOR_EQ compressor=propertyValue)?
    (COMMA property)*
    tagClause
    attributeClause
    ;
attributeClause
    : (ATTRIBUTES LR_BRACKET property (COMMA property)* RR_BRACKET)?
    ;
tagClause
    : (TAGS LR_BRACKET property (COMMA property)* RR_BRACKET)?
    ;
DataTypeValue: BOOLEAN | DOUBLE | FLOAT | INT32 | INT64 | TEXT
EncodingValue: GORILLA | PLAIN | RLE | TS_2DIFF | REGULAR
CompressorValue: UNCOMPRESSED | SNAPPY
propertyValue: SDT | COMPDEV | COMPMINTIME | COMPMAXTIME
Eg: CREATE TIMESERIES root.ln.wf01.wt01.status WITH DATATYPE=BOOLEAN, ENCODING=PLAIN
Eg: CREATE TIMESERIES root.ln.wf01.wt01.temperature WITH DATATYPE=FLOAT, ENCODING=RLE
Eg: CREATE TIMESERIES root.ln.wf01.wt01.temperature WITH DATATYPE=FLOAT, ENCODING=RLE, COMPRESSOR=SNAPPY, MAX_POINT_NUMBER=3
Eg: create timeseries root.turbine.d0.s0(temperature) with datatype=FLOAT, encoding=RLE, compression=SNAPPY tags(unit=f, description='turbine this is a test1') attributes(H_Alarm=100, M_Alarm=50)
Eg: CREATE TIMESERIES root.ln.wf01.wt01.temperature WITH DATATYPE=FLOAT, ENCODING=RLE, LOSS=SDT, COMPDEV=0.01
Eg: CREATE TIMESERIES root.ln.wf01.wt01.temperature WITH DATATYPE=FLOAT, ENCODING=RLE, LOSS=SDT, COMPDEV=0.01, COMPMINTIME=3
Eg: CREATE TIMESERIES root.ln.wf01.wt01.temperature WITH DATATYPE=FLOAT, ENCODING=RLE, LOSS=SDT, COMPDEV=0.01, COMPMINTIME=2, COMPMAXTIME=15
Note: Datatype and encoding type must be corresponding. Please check Chapter 3 Encoding Section for details.
Note: When propertyValue is SDT, it is required to set compression deviation COMPDEV, which is the maximum absolute difference between values.
Note: For SDT, values withtin COMPDEV will be discarded.
Note: For SDT, it is optional to set compression minimum COMPMINTIME, which is the minimum time difference between stored values for purpose of noise reduction.
Note: For SDT, it is optional to set compression maximum COMPMAXTIME, which is the maximum time difference between stored values regardless of COMPDEV.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Eliminar Serie Temporal</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">DELETE TIMESERIES &lt;PrefixPath&gt; [COMMA &lt;PrefixPath&gt;]*
Eg: IoTDB &gt; DELETE TIMESERIES root.ln.wf01.wt01.status
Eg: IoTDB &gt; DELETE TIMESERIES root.ln.wf01.wt01.status, root.ln.wf01.wt01.temperature
Eg: IoTDB &gt; DELETE TIMESERIES root.ln.wf01.wt01.*</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Modificar Serie Temporal</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">ALTER TIMESERIES fullPath alterClause
alterClause
    : RENAME beforeName=ID TO currentName=ID
    | SET property (COMMA property)*
    | DROP ID (COMMA ID)*
    | ADD TAGS property (COMMA property)*
    | ADD ATTRIBUTES property (COMMA property)*
    | UPSERT tagClause attributeClause
    ;
attributeClause
    : (ATTRIBUTES LR_BRACKET property (COMMA property)* RR_BRACKET)?
    ;
tagClause
    : (TAGS LR_BRACKET property (COMMA property)* RR_BRACKET)?
    ;
Eg: ALTER timeseries root.turbine.d1.s1 RENAME tag1 TO newTag1
Eg: ALTER timeseries root.turbine.d1.s1 SET tag1=newV1, attr1=newV1
Eg: ALTER timeseries root.turbine.d1.s1 DROP tag1, tag2
Eg: ALTER timeseries root.turbine.d1.s1 ADD TAGS tag3=v3, tag4=v4
Eg: ALTER timeseries root.turbine.d1.s1 ADD ATTRIBUTES attr3=v3, attr4=v4
EG: ALTER timeseries root.turbine.d1.s1 UPSERT TAGS(tag2=newV2, tag3=v3) ATTRIBUTES(attr3=v3, attr4=v4)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Todas las Series Temporales</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW TIMESERIES
Eg: IoTDB &gt; SHOW TIMESERIES
Note: This statement can only be used in IoTDB Client. If you need to show all timeseries in JDBC, please use `DataBaseMetadata` interface.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Series Temporales Específicas</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW TIMESERIES &lt;Path&gt;
Eg: IoTDB &gt; SHOW TIMESERIES root
Eg: IoTDB &gt; SHOW TIMESERIES root.ln
Eg: IoTDB &gt; SHOW TIMESERIES root.ln.*.*.status
Eg: IoTDB &gt; SHOW TIMESERIES root.ln.wf01.wt01.status
Note: The path can be prefix path, star path or timeseries path
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Serie Temporal Específica con la cláusula <code>where</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW TIMESERIES prefixPath? showWhereClause?
showWhereClause
    : WHERE (property | containsExpression)
    ;
containsExpression
    : name=ID OPERATOR_CONTAINS value=propertyValue
    ;

Eg: show timeseries root.ln where unit='c'
Eg: show timeseries root.ln where description contains 'test1'</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Serie Temporal Específica con la cláusula <code>where</code> comenzando desde el desplazamiento y limitando el número total de resultados</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW TIMESERIES prefixPath? showWhereClause? limitClause?

showWhereClause
    : WHERE (property | containsExpression)
    ;
containsExpression
    : name=ID OPERATOR_CONTAINS value=propertyValue
    ;
limitClause
    : LIMIT INT offsetClause?
    | offsetClause? LIMIT INT
    ;

Eg: show timeseries root.ln where unit='c'
Eg: show timeseries root.ln where description contains 'test1'
Eg: show timeseries root.ln where unit='c' limit 10 offset 10</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Grupo de Almacenamiento</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW STORAGE GROUP
Eg: IoTDB &gt; SHOW STORAGE GROUP
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Grupo de Almacenamiento Específico</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW STORAGE GROUP &lt;PrefixPath&gt;
Eg: IoTDB &gt; SHOW STORAGE GROUP root.*
Eg: IoTDB &gt; SHOW STORAGE GROUP root.ln
Note: The path can be prefix path or star path.
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Estado de Fusión</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW MERGE
Eg: IoTDB &gt; SHOW MERGE
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Contar Series Temporales</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">COUNT TIMESERIES &lt;Path&gt;
Eg: IoTDB &gt; COUNT TIMESERIES root
Eg: IoTDB &gt; COUNT TIMESERIES root.ln
Eg: IoTDB &gt; COUNT TIMESERIES root.ln.*.*.status
Eg: IoTDB &gt; COUNT TIMESERIES root.ln.wf01.wt01.status
Note: The path can be prefix path, star path or timeseries path.
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">COUNT TIMESERIES &lt;Path&gt; GROUP BY LEVEL=&lt;INTEGER&gt;
Eg: IoTDB &gt; COUNT TIMESERIES root GROUP BY LEVEL=1
Eg: IoTDB &gt; COUNT TIMESERIES root.ln GROUP BY LEVEL=2
Eg: IoTDB &gt; COUNT TIMESERIES root.ln.wf01 GROUP BY LEVEL=3
Note: The path can be prefix path or timeseries path.
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Contar Nodos</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">COUNT NODES &lt;Path&gt; LEVEL=&lt;INTEGER&gt;
Eg: IoTDB &gt; COUNT NODES root LEVEL=2
Eg: IoTDB &gt; COUNT NODES root.ln LEVEL=2
Eg: IoTDB &gt; COUNT NODES root.ln.* LEVEL=3
Eg: IoTDB &gt; COUNT NODES root.ln.wf01 LEVEL=3
Note: The path can be prefix path or timeseries path.
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Todos los Dispositivos</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW DEVICES (WITH STORAGE GROUP)? limitClause?
Eg: IoTDB &gt; SHOW DEVICES
Eg: IoTDB &gt; SHOW DEVICES WITH STORAGE GROUP
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Dispositivos Específicos</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW DEVICES &lt;PrefixPath&gt; (WITH STORAGE GROUP)? limitClause?
Eg: IoTDB &gt; SHOW DEVICES root
Eg: IoTDB &gt; SHOW DEVICES root.ln
Eg: IoTDB &gt; SHOW DEVICES root.*.wf01
Eg: IoTDB &gt; SHOW DEVICES root.ln WITH STORAGE GROUP
Eg: IoTDB &gt; SHOW DEVICES root.*.wf01 WITH STORAGE GROUP
Note: The path can be prefix path or star path.
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar las Rutas Secundarias de la Raíz</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW CHILD PATHS
Eg: IoTDB &gt; SHOW CHILD PATHS
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Mostrar Rutas Secundarias</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW CHILD PATHS &lt;Path&gt;
Eg: IoTDB &gt; SHOW CHILD PATHS root
Eg: IoTDB &gt; SHOW CHILD PATHS root.ln
Eg: IoTDB &gt; SHOW CHILD PATHS root.*.wf01
Eg: IoTDB &gt; SHOW CHILD PATHS root.ln.wf*
Note: The path can be prefix path or star path, the nodes can be in a "prefix + star" format.
Note: This statement can be used in IoTDB Client and JDBC.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Crear Instantánea para el Esquema</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">CREATE SNAPSHOT FOR SCHEMA</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_declaración_de_gestión_de_datos"><a class="anchor" href="#_declaración_de_gestión_de_datos"></a>Declaración de Gestión de Datos</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Declaración de Insertar Registro</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">INSERT INTO &lt;PrefixPath&gt; LPAREN TIMESTAMP COMMA &lt;Sensor&gt; [COMMA &lt;Sensor&gt;]* RPAREN VALUES LPAREN &lt;TimeValue&gt;, &lt;PointValue&gt; [COMMA &lt;PointValue&gt;]* RPAREN
Sensor : Identifier
Eg: IoTDB &gt; INSERT INTO root.ln.wf01.wt01(timestamp,status) values(1509465600000,true)
Eg: IoTDB &gt; INSERT INTO root.ln.wf01.wt01(timestamp,status) VALUES(NOW(), false)
Eg: IoTDB &gt; INSERT INTO root.ln.wf01.wt01(timestamp,temperature) VALUES(2017-11-01T00:17:00.000+08:00,24.22028)
Eg: IoTDB &gt; INSERT INTO root.ln.wf01.wt01(timestamp, status, temperature) VALUES (1509466680000, false, 20.060787);
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;
Note: The order of Sensor and PointValue need one-to-one correspondence</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Eliminar Registro</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">DELETE FROM &lt;PrefixPath&gt; [COMMA &lt;PrefixPath&gt;]* [WHERE &lt;WhereClause&gt;]?
WhereClause : &lt;Condition&gt; [(AND) &lt;Condition&gt;]*
Condition  : &lt;TimeExpr&gt; [(AND) &lt;TimeExpr&gt;]*
TimeExpr : TIME PrecedenceEqualOperator (&lt;TimeValue&gt; | &lt;RelativeTime&gt;)
Eg: DELETE FROM root.ln.wf01.wt01.temperature WHERE time &gt; 2016-01-05T00:15:00+08:00 and time &lt; 2017-11-1T00:05:00+08:00
Eg: DELETE FROM root.ln.wf01.wt01.status, root.ln.wf01.wt01.temperature WHERE time &lt; NOW()
Eg: DELETE FROM root.ln.wf01.wt01.* WHERE time &gt;= 1509466140000</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Seleccionar Registro</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT &lt;SelectClause&gt; FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
SelectClause : &lt;SelectPath&gt; (COMMA &lt;SelectPath&gt;)*
SelectPath : &lt;FUNCTION&gt; LPAREN &lt;Path&gt; RPAREN | &lt;Path&gt;
FUNCTION : ‘COUNT’ , ‘MIN_TIME’, ‘MAX_TIME’, ‘MIN_VALUE’, ‘MAX_VALUE’
FromClause : &lt;PrefixPath&gt; (COMMA &lt;PrefixPath&gt;)?
WhereClause : &lt;Condition&gt; [(AND | OR) &lt;Condition&gt;]*
Condition  : &lt;Expression&gt; [(AND | OR) &lt;Expression&gt;]*
Expression : [NOT | !]? &lt;TimeExpr&gt; | [NOT | !]? &lt;SensorExpr&gt;
TimeExpr : TIME PrecedenceEqualOperator (&lt;TimeValue&gt; | &lt;RelativeTime&gt;)
RelativeTimeDurationUnit = Integer ('Y'|'MO'|'W'|'D'|'H'|'M'|'S'|'MS'|'US'|'NS')
RelativeTime : (now() | &lt;TimeValue&gt;) [(+|-) RelativeTimeDurationUnit]+
SensorExpr : (&lt;Timeseries&gt; | &lt;Path&gt;) PrecedenceEqualOperator &lt;PointValue&gt;
Eg: IoTDB &gt; SELECT status, temperature FROM root.ln.wf01.wt01 WHERE temperature &lt; 24 and time &gt; 2017-11-1 0:13:00
Eg. IoTDB &gt; SELECT * FROM root
Eg. IoTDB &gt; SELECT * FROM root where time &gt; now() - 5m
Eg. IoTDB &gt; SELECT * FROM root.ln.*.wf*
Eg. IoTDB &gt; SELECT COUNT(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 25
Eg. IoTDB &gt; SELECT MIN_TIME(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 25
Eg. IoTDB &gt; SELECT MAX_TIME(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &gt; 24
Eg. IoTDB &gt; SELECT MIN_VALUE(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &gt; 23
Eg. IoTDB &gt; SELECT MAX_VALUE(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 25
Eg. IoTDB &gt; SELECT COUNT(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 25 GROUP BY LEVEL=1
Note: the statement needs to satisfy this constraint: &lt;Path&gt;(SelectClause) + &lt;PrefixPath&gt;(FromClause) = &lt;Timeseries&gt;
Note: If the &lt;SensorExpr&gt;(WhereClause) is started with &lt;Path&gt; and not with ROOT, the statement needs to satisfy this constraint: &lt;PrefixPath&gt;(FromClause) + &lt;Path&gt;(SensorExpr) = &lt;Timeseries&gt;
Note: In Version 0.7.0, if &lt;WhereClause&gt; includes `OR`, time filter can not be used.
Note: There must be a space on both sides of the plus and minus operator appearing in the time expression</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Agrupar Por</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT &lt;SelectClause&gt; FROM &lt;FromClause&gt; WHERE  &lt;WhereClause&gt; GROUPBY &lt;GroupByTimeClause&gt;
SelectClause : &lt;Function&gt; [COMMA &lt; Function &gt;]*
Function : &lt;AggregationFunction&gt; LPAREN &lt;Path&gt; RPAREN
FromClause : &lt;PrefixPath&gt;
WhereClause : &lt;Condition&gt; [(AND | OR) &lt;Condition&gt;]*
Condition  : &lt;Expression&gt; [(AND | OR) &lt;Expression&gt;]*
Expression : [NOT | !]? &lt;TimeExpr&gt; | [NOT | !]? &lt;SensorExpr&gt;
TimeExpr : TIME PrecedenceEqualOperator (&lt;TimeValue&gt; |&lt;RelativeTime&gt;)
RelativeTimeDurationUnit = Integer ('Y'|'MO'|'W'|'D'|'H'|'M'|'S''MS'|'US'|'NS')
RelativeTime : (now() | &lt;TimeValue&gt;) [(+|-)RelativeTimeDurationUnit]+
SensorExpr : (&lt;Timeseries&gt; | &lt;Path&gt;) PrecedenceEqualOperator&lt;PointValue&gt;
GroupByTimeClause : LPAREN &lt;TimeInterval&gt; COMMA &lt;TimeUnit&gt; (COMMA&lt;TimeUnit&gt;)? RPAREN
TimeInterval: LSBRACKET &lt;TimeValue&gt; COMMA &lt;TimeValue&gt; RRBRACKET |LRBRACKET &lt;TimeValue&gt; COMMA &lt;TimeValue&gt; RSBRACKET
TimeUnit : Integer &lt;DurationUnit&gt;
DurationUnit : "ms" | "s" | "m" | "h" | "d" | "w" | "mo"
Eg: SELECT COUNT(status), COUNT(temperature) FROM root.ln.wf01.wt01where temperature &lt; 24 GROUP BY([1509465720000, 1509466380000), 5m)
Eg: SELECT COUNT(status), COUNT(temperature) FROM root.ln.wf01.wt01where temperature &lt; 24 GROUP BY((1509465720000, 1509466380000], 5m)
Eg. SELECT COUNT (status), MAX_VALUE(temperature) FROM root.ln.wf01wt01 WHERE time &lt; 1509466500000 GROUP BY([1509465720000,1509466380000), 5m, 10m)
Eg. SELECT MIN_TIME(status), MIN_VALUE(temperature) FROM root.lnwf01.wt01 WHERE temperature &lt; 25 GROUP BY ([1509466140000,1509466380000), 3m, 5ms)
Eg. SELECT MIN_TIME(status), MIN_VALUE(temperature) FROM root.lnwf01.wt01 WHERE temperature &lt; 25 GROUP BY ((1509466140000,1509466380000], 3m, 5ms)
Eg. SELECT MIN_TIME(status), MIN_VALUE(temperature) FROM root.lnwf01.wt01 WHERE temperature &lt; 25 GROUP BY ((1509466140000,1509466380000], 1mo)
Eg. SELECT MIN_TIME(status), MIN_VALUE(temperature) FROM root.lnwf01.wt01 WHERE temperature &lt; 25 GROUP BY ((1509466140000,1509466380000], 1mo, 1mo)
Eg. SELECT MIN_TIME(status), MIN_VALUE(temperature) FROM root.lnwf01.wt01 WHERE temperature &lt; 25 GROUP BY ((1509466140000,1509466380000], 1mo, 2mo)
Note: the statement needs to satisfy this constraint: &lt;Path(SelectClause) + &lt;PrefixPath&gt;(FromClause) = &lt;Timeseries&gt;
Note: If the &lt;SensorExpr&gt;(WhereClause) is started with &lt;Path&gt; andnot with ROOT, the statement needs to satisfy this constraint:&lt;PrefixPath&gt;(FromClause) + &lt;Path&gt;(SensorExpr) = &lt;Timeseries&gt;
Note: &lt;TimeValue&gt;(TimeInterval) needs to be greater than 0
Note: First &lt;TimeValue&gt;(TimeInterval) in needs to be smaller thansecond &lt;TimeValue&gt;(TimeInterval)
Note: &lt;TimeUnit&gt; needs to be greater than 0
Note: Third &lt;TimeUnit&gt; if set shouldn't be smaller than second&lt;TimeUnit&gt;
Note: If the second &lt;DurationUnit&gt; is "mo", the third&lt;DurationUnit&gt; need to be in month
Note: If the third &lt;DurationUnit&gt; is "mo", the second&lt;DurationUnit&gt; can be in any unit</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración Rellenar</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT &lt;SelectClause&gt; FROM &lt;FromClause&gt; WHERE &lt;WhereClause&gt; FILL &lt;FillClause&gt;
SelectClause : &lt;Path&gt; [COMMA &lt;Path&gt;]*
FromClause : &lt; PrefixPath &gt; [COMMA &lt; PrefixPath &gt;]*
WhereClause : &lt;WhereExpression&gt;
WhereExpression : TIME EQUAL &lt;TimeValue&gt;
FillClause : LPAREN &lt;TypeClause&gt; [COMMA &lt;TypeClause&gt;]* RPAREN
TypeClause : &lt;Int32Clause&gt; | &lt;Int64Clause&gt; | &lt;FloatClause&gt; | &lt;DoubleClause&gt; | &lt;BoolClause&gt; | &lt;TextClause&gt;
Int32Clause: INT32 LBRACKET (&lt;LinearClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
Int64Clause: INT64 LBRACKET (&lt;LinearClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
FloatClause: FLOAT LBRACKET (&lt;LinearClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
DoubleClause: DOUBLE LBRACKET (&lt;LinearClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
BoolClause: BOOLEAN LBRACKET (&lt;LinearClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
TextClause: TEXT LBRACKET (&lt;LinearClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
PreviousClause : PREVIOUS [COMMA &lt;ValidPreviousTime&gt;]?
LinearClause : LINEAR [COMMA &lt;ValidPreviousTime&gt; COMMA &lt;ValidBehindTime&gt;]?
ValidPreviousTime, ValidBehindTime: &lt;TimeUnit&gt;
TimeUnit : Integer &lt;DurationUnit&gt;
DurationUnit : "ms" | "s" | "m" | "h" | "d" | "w"
Eg: SELECT temperature FROM root.ln.wf01.wt01 WHERE time = 2017-11-01T16:37:50.000 FILL(float[previous, 1m])
Eg: SELECT temperature,status FROM root.ln.wf01.wt01 WHERE time = 2017-11-01T16:37:50.000 FILL (float[linear, 1m, 1m], boolean[previous, 1m])
Eg: SELECT temperature,status,hardware FROM root.ln.wf01.wt01 WHERE time = 2017-11-01T16:37:50.000 FILL (float[linear, 1m, 1m], boolean[previous, 1m], text[previous])
Eg: SELECT temperature,status,hardware FROM root.ln.wf01.wt01 WHERE time = 2017-11-01T16:37:50.000 FILL (float[linear], boolean[previous, 1m], text[previous])
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt;(FromClause) + &lt;Path&gt;(SelectClause) = &lt;Timeseries&gt;
Note: Integer in &lt;TimeUnit&gt; needs to be greater than 0</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Agrupar Por Relleno</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT &lt;SelectClause&gt; FROM &lt;FromClause&gt; WHERE  &lt;WhereClause&gt; GROUP BY &lt;GroupByClause&gt; (FILL &lt;GROUPBYFillClause&gt;)?
GroupByClause : LPAREN &lt;TimeInterval&gt; COMMA &lt;TimeUnit&gt; RPAREN
GROUPBYFillClause : LPAREN &lt;TypeClause&gt; RPAREN
TypeClause : &lt;AllClause&gt; | &lt;Int32Clause&gt; | &lt;Int64Clause&gt; | &lt;FloatClause&gt; | &lt;DoubleClause&gt; | &lt;BoolClause&gt; | &lt;TextClause&gt;
AllClause: ALL LBRACKET (&lt;PreviousUntilLastClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
Int32Clause: INT32 LBRACKET (&lt;PreviousUntilLastClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
Int64Clause: INT64 LBRACKET (&lt;PreviousUntilLastClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
FloatClause: FLOAT LBRACKET (&lt;PreviousUntilLastClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
DoubleClause: DOUBLE LBRACKET (&lt;PreviousUntilLastClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
BoolClause: BOOLEAN LBRACKET (&lt;PreviousUntilLastClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
TextClause: TEXT LBRACKET (&lt;PreviousUntilLastClause&gt; | &lt;PreviousClause&gt;)  RBRACKET
PreviousClause : PREVIOUS
PreviousUntilLastClause : PREVIOUSUNTILLAST
Eg: SELECT last_value(temperature) FROM root.ln.wf01.wt01 GROUP BY([20, 100), 5m) FILL (float[PREVIOUS])
Eg: SELECT last_value(temperature) FROM root.ln.wf01.wt01 GROUP BY((15, 100], 5m) FILL (float[PREVIOUS])
Eg: SELECT last_value(power) FROM root.ln.wf01.wt01 GROUP BY([20, 100), 5m) FILL (int32[PREVIOUSUNTILLAST])
Eg: SELECT last_value(power) FROM root.ln.wf01.wt01 GROUP BY([20, 100), 5m) FILL (int32[PREVIOUSUNTILLAST, 5m])
Eg: SELECT last_value(temperature), last_value(power) FROM root.ln.wf01.wt01 GROUP BY([20, 100), 5m) FILL (ALL[PREVIOUS])
Eg: SELECT last_value(temperature), last_value(power) FROM root.ln.wf01.wt01 GROUP BY([20, 100), 5m) FILL (ALL[PREVIOUS, 5m])
Note: In group by fill, sliding step is not supported in group by clause
Note: Now, only last_value aggregation function is supported in group by fill.
Note: Linear fill is not supported in group by fill.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Ordenar por Tiempo</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT &lt;SelectClause&gt; FROM &lt;FromClause&gt; WHERE  &lt;WhereClause&gt; GROUP BY &lt;GroupByClause&gt; (FILL &lt;GROUPBYFillClause&gt;)? orderByTimeClause?
orderByTimeClause: order by time (asc | desc)?

Eg: SELECT last_value(temperature) FROM root.ln.wf01.wt01 GROUP BY([20, 100), 5m) FILL (float[PREVIOUS]) order by time desc
Eg: SELECT * from root order by time desc
Eg: SELECT * from root order by time desc align by device
Eg: SELECT * from root order by time desc disable align
Eg: SELECT last * from root order by time desc</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Limitar</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT &lt;SelectClause&gt; FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;] [&lt;LIMITClause&gt;] [&lt;SLIMITClause&gt;]
SelectClause : [&lt;Path&gt; | Function]+
Function : &lt;AggregationFunction&gt; LPAREN &lt;Path&gt; RPAREN
FromClause : &lt;Path&gt;
WhereClause : &lt;Condition&gt; [(AND | OR) &lt;Condition&gt;]*
Condition : &lt;Expression&gt; [(AND | OR) &lt;Expression&gt;]*
Expression: [NOT|!]?&lt;TimeExpr&gt; | [NOT|!]?&lt;SensorExpr&gt;
TimeExpr : TIME PrecedenceEqualOperator (&lt;TimeValue&gt; | &lt;RelativeTime&gt;)
RelativeTimeDurationUnit = Integer ('Y'|'MO'|'W'|'D'|'H'|'M'|'S'|'MS'|'US'|'NS')
RelativeTime : (now() | &lt;TimeValue&gt;) [(+|-) RelativeTimeDurationUnit]+
SensorExpr : (&lt;Timeseries&gt;|&lt;Path&gt;) PrecedenceEqualOperator &lt;PointValue&gt;
LIMITClause : LIMIT &lt;N&gt; [OFFSETClause]?
N : Integer
OFFSETClause : OFFSET &lt;OFFSETValue&gt;
OFFSETValue : Integer
SLIMITClause : SLIMIT &lt;SN&gt; [SOFFSETClause]?
SN : Integer
SOFFSETClause : SOFFSET &lt;SOFFSETValue&gt;
SOFFSETValue : Integer
Eg: IoTDB &gt; SELECT status, temperature FROM root.ln.wf01.wt01 WHERE temperature &lt; 24 and time &gt; 2017-11-1 0:13:00 LIMIT 3 OFFSET 2
Eg. IoTDB &gt; SELECT COUNT (status), MAX_VALUE(temperature) FROM root.ln.wf01.wt01 WHERE time &lt; 1509466500000 GROUP BY([1509465720000, 1509466380000], 5m) LIMIT 3
Note: N, OFFSETValue, SN and SOFFSETValue must be greater than 0.
Note: The order of &lt;LIMITClause&gt; and &lt;SLIMITClause&gt; does not affect the grammatical correctness.
Note: &lt;FillClause&gt; can not use &lt;LIMITClause&gt; but not &lt;SLIMITClause&gt;.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Alinear por Dispositivo</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">AlignbyDeviceClause : ALIGN BY DEVICE

Rules:
1. Both uppercase and lowercase are ok.
Correct example: select * from root.sg1 align by device
Correct example: select * from root.sg1 ALIGN BY DEVICE

2. AlignbyDeviceClause can only be used at the end of a query statement.
Correct example: select * from root.sg1 where time &gt; 10 align by device
Wrong example: select * from root.sg1 align by device where time &gt; 10

3. The paths of the SELECT clause can only be single level. In other words, the paths of the SELECT clause can only be measurements or STAR, without DOT.
Correct example: select s0,s1 from root.sg1.* align by device
Correct example: select s0,s1 from root.sg1.d0, root.sg1.d1 align by device
Correct example: select * from root.sg1.* align by device
Correct example: select * from root align by device
Correct example: select s0,s1,* from root.*.* align by device
Wrong example: select d0.s1, d0.s2, d1.s0 from root.sg1 align by device
Wrong example: select *.s0, *.s1 from root.* align by device
Wrong example: select *.*.* from root align by device

4. The data types of the same measurement column should be the same across devices.
Note that when it comes to aggregated paths, the data type of the measurement column will reflect
the aggregation function rather than the original timeseries.

Correct example: select s0 from root.sg1.d0,root.sg1.d1 align by device
root.sg1.d0.s0 and root.sg1.d1.s0 are both INT32.

Correct example: select count(s0) from root.sg1.d0,root.sg1.d1 align by device
count(root.sg1.d0.s0) and count(root.sg1.d1.s0) are both INT64.

Wrong example: select s0 from root.sg1.d0, root.sg2.d3 align by device
root.sg1.d0.s0 is INT32 while root.sg2.d3.s0 is FLOAT.

5. The display principle of the result table is that all the columns (no matther whther a column has has existing data) will be shown, with nonexistent cells being null. Besides, the select clause support const column (e.g., 'a', '123' etc..).
For example, "select s0,s1,s2,'abc',s1,s2 from root.sg.d0, root.sg.d1, root.sg.d2 align by device". Suppose that the actual existing timeseries are as follows:
- root.sg.d0.s0
- root.sg.d0.s1
- root.sg.d1.s0

Then you could expect a table like:

| Time | Device   | s0 | s1 |  s2  | 'abc' | s1 |  s2  |
| ---  | ---      | ---| ---| null | 'abc' | ---| null |
|  1   |root.sg.d0| 20 | 2.5| null | 'abc' | 2.5| null |
|  2   |root.sg.d0| 23 | 3.1| null | 'abc' | 3.1| null |
| ...  | ...      | ...| ...| null | 'abc' | ...| null |
|  1   |root.sg.d1| 12 |null| null | 'abc' |null| null |
|  2   |root.sg.d1| 19 |null| null | 'abc' |null| null |
| ...  | ...      | ...| ...| null | 'abc' | ...| null |

Note that the cells of measurement 's0' and device 'root.sg.d1' are all null.

6. The duplicated devices in the prefix paths are neglected.
For example, "select s0,s1 from root.sg.d0,root.sg.d0,root.sg.d1 align by device" is equal to "select s0,s1 from root.sg.d0,root.sg.d1 align by device".
For example. "select s0,s1 from root.sg.*,root.sg.d0 align by device" is equal to "select s0,s1 from root.sg.* align by device".

7. The duplicated measurements in the suffix paths are not neglected.
For example, "select s0,s0,s1 from root.sg.* align by device" is not equal to "select s0,s1 from root.sg.* align by device".

8. Both time predicates and value predicates are allowed in Where Clause. The paths of the value predicates can be the leaf node or full path started with ROOT. And wildcard is not allowed here. For example:
- select * from root.sg.* where time = 1 align by device
- select * from root.sg.* where s0 &lt; 100 align by device
- select * from root.sg.* where time &lt; 20 AND s0 &gt; 50 align by device
- select * from root.sg.d0 where root.sg.d0.s0 = 15 align by device

9. More correct examples:
   - select * from root.vehicle align by device
   - select s0,s0,s1 from root.vehicle.* align by device
   - select s0,s1 from root.vehicle.* limit 10 offset 1 align by device
   - select * from root.vehicle slimit 10 soffset 2 align by device
   - select * from root.vehicle where time &gt; 10 align by device
   - select * from root.vehicle.* where time &lt; 10 AND s0 &gt; 25 align by device
   - select * from root.vehicle where root.vehicle.d0.s0&gt;0 align by device
   - select count(*) from root.vehicle align by device
   - select sum(*) from root.vehicle GROUP BY (20ms,0,[2,50]) align by device
   - select * from root.vehicle where time = 3 Fill(int32[previous, 5ms]) align by device</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Desactivar Alineación</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">Disable Align Clause: DISABLE ALIGN

Rules:
1. Both uppercase and lowercase are ok.
Correct example: select * from root.sg1 disable align
Correct example: select * from root.sg1 DISABLE ALIGN

2. Disable Align Clause can only be used at the end of a query statement.
Correct example: select * from root.sg1 where time &gt; 10 disable align
Wrong example: select * from root.sg1 disable align where time &gt; 10

3. Disable Align Clause cannot be used with Aggregation, Fill Statements, Group By or Group By Device Statements, but can with Limit Statements.
Correct example: select * from root.sg1 limit 3 offset 2 disable align
Correct example: select * from root.sg1 slimit 3 soffset 2 disable align
Wrong example: select count(s0),count(s1) from root.sg1.d1 disable align
Wrong example: select * from root.vehicle where root.vehicle.d0.s0&gt;0 disable align
Wrong example: select * from root.vehicle align by device disable align

4. The display principle of the result table is that only when the column (or row) has existing data will the column (or row) be shown, with nonexistent cells being empty.

You could expect a table like:
| Time | root.sg.d0.s1 | Time | root.sg.d0.s2 | Time | root.sg.d1.s1 |
| ---  | ---           | ---  | ---           | ---  | ---           |
|  1   | 100           | 20   | 300           | 400  | 600           |
|  2   | 300           | 40   | 800           | 700  | 900           |
|  4   | 500           |      |               | 800  | 1000          |
|      |               |      |               | 900  | 8000          |

5. More correct examples:
   - select * from root.vehicle disable align
   - select s0,s0,s1 from root.vehicle.* disable align
   - select s0,s1 from root.vehicle.* limit 10 offset 1 disable align
   - select * from root.vehicle slimit 10 soffset 2 disable align
   - select * from root.vehicle where time &gt; 10 disable align</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración de Seleccionar Último Registro</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función LAST devuelve el último par de valor de tiempo de la serie de tiempo dada. Actualmente, los filtros no son compatibles con consultas LAST.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT LAST &lt;SelectClause&gt; FROM &lt;FromClause&gt;
Select Clause : &lt;Path&gt; [COMMA &lt;Path&gt;]*
FromClause : &lt; PrefixPath &gt; [COMMA &lt; PrefixPath &gt;]*
WhereClause : &lt;TimeExpr&gt; [(AND | OR) &lt;TimeExpr&gt;]*
TimeExpr : TIME PrecedenceEqualOperator (&lt;TimeValue&gt; | &lt;RelativeTime&gt;)

Eg. SELECT LAST s1 FROM root.sg.d1
Eg. SELECT LAST s1, s2 FROM root.sg.d1
Eg. SELECT LAST s1 FROM root.sg.d1, root.sg.d2
Eg. SELECT LAST s1 FROM root.sg.d1 where time &gt; 100
Eg. SELECT LAST s1, s2 FROM root.sg.d1 where time &gt;= 500

Rules:
1. the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;

2. SELECT LAST only supports time filter that contains '&gt;' or '&gt;=' currently.

3. The result set of last query will always be displayed in a fixed three column table format.
For example, "select last s1, s2 from root.sg.d1, root.sg.d2", the query result would be:

| Time | Path         | Value |
| ---  | ------------ | ----- |
|  5   | root.sg.d1.s1| 100   |
|  2   | root.sg.d1.s2| 400   |
|  4   | root.sg.d2.s1| 250   |
|  9   | root.sg.d2.s2| 600   |

4. It is not supported to use "diable align" in LAST query.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaración "Cómo"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La declaración "Cómo" asigna un alias a la consulta de series de tiempo en la declaración SELECT</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">You can use as statement in all queries, but some rules are restricted about wildcard.

1. Raw data query
select s1 as speed, s2 as temperature from root.sg.d1

The result set will be like：
| Time | speed | temperature |
|  ... |  ...  |     ....    |

2. Aggregation query
select count(s1) as s1_num, max_value(s2) as s2_max from root.sg.d1

3. Down-frequence query
select count(s1) as s1_num from root.sg.d1 group by ([100,500), 80ms)

4. Align by device query
select s1 as speed, s2 as temperature from root.sg.d1 align by device

select count(s1) as s1_num, count(s2), count(s3) as s3_num from root.sg.d2 align by device

5. Last Record query
select last s1 as speed, s2 from root.sg.d1

Rules：
1. In addition to Align by device query，each AS statement has to corresponding to one time series exactly.

E.g. select s1 as temperature from root.sg.*

At this time if `root.sg.*` includes more than one device，then an exception will be thrown。

2. In align by device query，the prefix path that each AS statement corresponding to can includes multiple device, but the suffix path can only be single sensor.

E.g. select s1 as temperature from root.sg.*

In this situation, it will be show correctly even if multiple devices are selected.

E.g. select * as temperature from root.sg.d1

In this situation, it will throws an exception if * corresponds to multiple sensors.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_declaración_de_gestión_de_la_base_de_datos"><a class="anchor" href="#_declaración_de_gestión_de_la_base_de_datos"></a>Declaración de Gestión de la Base de Datos</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Crear Usuario</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">CREATE USER &lt;userName&gt; &lt;password&gt;;
userName:=identifier
password:=string
Eg: IoTDB &gt; CREATE USER thulab 'pwd';</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Borrar Usuario</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">DROP USER &lt;userName&gt;;
userName:=identifier
Eg: IoTDB &gt; DROP USER xiaoming;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Crear Rol</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">CREATE ROLE &lt;roleName&gt;;
roleName:=identifie
Eg: IoTDB &gt; CREATE ROLE admin;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Eliminar Rol</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">DROP ROLE &lt;roleName&gt;;
roleName:=identifier
Eg: IoTDB &gt; DROP ROLE admin;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Otorgar Privilegios de Usuario</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">GRANT USER &lt;userName&gt; PRIVILEGES &lt;privileges&gt; ON &lt;nodeName&gt;;
userName:=identifier
nodeName:=identifier (DOT identifier)*
privileges:= string (COMMA string)*
Eg: IoTDB &gt; GRANT USER tempuser PRIVILEGES 'DELETE_TIMESERIES' on root.ln;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Otorgar Privilegios de Rol</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">GRANT ROLE &lt;roleName&gt; PRIVILEGES &lt;privileges&gt; ON &lt;nodeName&gt;;
privileges:= string (COMMA string)*
roleName:=identifier
nodeName:=identifier (DOT identifier)*
Eg: IoTDB &gt; GRANT ROLE temprole PRIVILEGES 'DELETE_TIMESERIES' ON root.ln;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Otorgar Rol de Usuario</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">GRANT &lt;roleName&gt; TO &lt;userName&gt;;
roleName:=identifier
userName:=identifier
Eg: IoTDB &gt; GRANT temprole TO tempuser;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Revocar Privilegios de Usuario</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">REVOKE USER &lt;userName&gt; PRIVILEGES &lt;privileges&gt; ON &lt;nodeName&gt;;
privileges:= string (COMMA string)*
userName:=identifier
nodeName:=identifier (DOT identifier)*
Eg: IoTDB &gt; REVOKE USER tempuser PRIVILEGES 'DELETE_TIMESERIES' on root.ln;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Revocar Privilegios de Rol</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">REVOKE ROLE &lt;roleName&gt; PRIVILEGES &lt;privileges&gt; ON &lt;nodeName&gt;;
privileges:= string (COMMA string)*
roleName:= identifier
nodeName:=identifier (DOT identifier)*
Eg: IoTDB &gt; REVOKE ROLE temprole PRIVILEGES 'DELETE_TIMESERIES' ON root.ln;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Revocar Rol de Usuario</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">REVOKE &lt;roleName&gt; FROM &lt;userName&gt;;
roleName:=identifier
userName:=identifier
Eg: IoTDB &gt; REVOKE temprole FROM tempuser;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Listar Usuarios</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">LIST USER
Eg: IoTDB &gt; LIST USER</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Listar Roles</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">LIST ROLE
Eg: IoTDB &gt; LIST ROLE</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Listar Privilegios</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">LIST PRIVILEGES USER  &lt;username&gt; ON &lt;path&gt;;
username:=identifier
path=‘root’ (DOT identifier)*
Eg: IoTDB &gt; LIST PRIVILEGES USER sgcc_wirte_user ON root.sgcc;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Listar Privilegios de Roles (En una Ruta Específica)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">LIST PRIVILEGES ROLE &lt;roleName&gt; ON &lt;path&gt;;
roleName:=identifier
path=‘root’ (DOT identifier)*
Eg: IoTDB &gt; LIST PRIVILEGES ROLE wirte_role ON root.sgcc;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Listar Privilegios de Usuarios</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">LIST USER PRIVILEGES &lt;username&gt; ;
username:=identifier
Eg: IoTDB &gt; LIST USER PRIVILEGES tempuser;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Listar Privilegios de Roles</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">LIST ROLE PRIVILEGES &lt;roleName&gt;
roleName:=identifier
Eg: IoTDB &gt; LIST ROLE PRIVILEGES actor;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Listar Roles de Usuarios</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">LIST ALL ROLE OF USER &lt;username&gt; ;
username:=identifier
Eg: IoTDB &gt; LIST ALL ROLE OF USER tempuser;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Listar Usuarios de Rol</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">LIST ALL USER OF ROLE &lt;roleName&gt;;
roleName:=identifier
Eg: IoTDB &gt; LIST ALL USER OF ROLE roleuser;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Modificar Contraseña</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">ALTER USER &lt;username&gt; SET PASSWORD &lt;password&gt;;
roleName:=identifier
password:=identifier
Eg: IoTDB &gt; ALTER USER tempuser SET PASSWORD 'newpwd';</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_funciones"><a class="anchor" href="#_funciones"></a>Funciones</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>COUNT</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función COUNT devuelve el número de valores de series de tiempo (uno o más) valores no nulos seleccionados por la declaración SELECT. El resultado es un entero de 64 bits con signo. Si no hay filas coincidentes, COUNT() devuelve 0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT COUNT(Path) (COMMA COUNT(Path))* FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
Eg. SELECT COUNT(status), COUNT(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 24
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>FIRST_VALUE</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función FIRST_VALUE devuelve el primer valor en puntos de la serie temporal elegida (una o más).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT FIRST_VALUE (Path) (COMMA FIRST_VALUE (Path))* FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
Eg. SELECT FIRST_VALUE (status), FIRST_VALUE (temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 24
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>LAST_VALUE</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función LAST_VALUE devuelve el último valor en puntos de la serie temporal elegida (una o más).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[source,SQL]
----
SELECT LAST_VALUE (Path) (COMMA LAST_VALUE (Path))* FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
Eg. SELECT LAST_VALUE (status), LAST_VALUE (temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 24
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;
----</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>MAX_TIME</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función MAX_TIME devuelve la marca de tiempo máxima de la serie temporal elegida (una o más). El resultado es un entero de 64 bits con signo, mayor que 0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT MAX_TIME (Path) (COMMA MAX_TIME (Path))* FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
Eg. SELECT MAX_TIME(status), MAX_TIME(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 24
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>MAX_VALUE</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función MAX_VALUE devuelve el valor máximo (ordenado lexicográficamente) de la serie temporal elegida (una o más).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT MAX_VALUE (Path) (COMMA MAX_VALUE (Path))* FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
Eg. SELECT MAX_VALUE(status), MAX_VALUE(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 24
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>AVG</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función AVG devuelve el valor medio aritmético de la serie temporal elegida durante un período de tiempo específico. Las series temporales deben ser <code>int32</code>, <code>int64</code>, <code>float</code>, <code>double type</code> y los otros tipos no deben calcularse. El resultado es un número de tipo <code>double</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT AVG (Path) (COMMA AVG (Path))* FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
Eg. SELECT AVG (temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 24
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>MIN_TIME</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función MIN_TIME devuelve la marca de tiempo mínima de la serie temporal elegida (una o más). El resultado es un entero de 64 bits con signo, mayor que 0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT MIN_TIME (Path) (COMMA MIN_TIME (Path))*FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
Eg. SELECT MIN_TIME(status), MIN_TIME(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 24
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>MIN_VALUE</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función MIN_VALUE devuelve el valor mínimo (ordenado lexicográficamente) de la serie temporal elegida (una o más).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT MIN_VALUE (Path) (COMMA MIN_VALUE (Path))* FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
Eg. SELECT MIN_VALUE(status),MIN_VALUE(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 24
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>NOW</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función NOW devuelve la marca de tiempo actual. Esta función se puede utilizar en la declaración de operación de datos para representar el tiempo. El resultado es un entero de 64 bits con signo, mayor que 0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">NOW()
Eg. INSERT INTO root.ln.wf01.wt01(timestamp,status) VALUES(NOW(), false)
Eg. DELETE FROM root.ln.wf01.wt01.status, root.ln.wf01.wt01.temperature WHERE time &lt; NOW()
Eg. SELECT * FROM root WHERE time &lt; NOW()
Eg. SELECT COUNT(temperature) FROM root.ln.wf01.wt01 WHERE time &lt; NOW()</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>SUM</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La función SUM devuelve la suma de las series temporales elegidas (una o más) durante un período de tiempo específico. Las series temporales deben ser int32, int64, float, double type y los otros tipos no deben calcularse. El resultado es un número de tipo doble.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT SUM(Path) (COMMA SUM(Path))* FROM &lt;FromClause&gt; [WHERE &lt;WhereClause&gt;]?
Eg. SELECT SUM(temperature) FROM root.ln.wf01.wt01 WHERE root.ln.wf01.wt01.temperature &lt; 24
Note: the statement needs to satisfy this constraint: &lt;PrefixPath&gt; + &lt;Path&gt; = &lt;Timeseries&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ttl"><a class="anchor" href="#_ttl"></a>TTL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>IoTDB admite la configuración TTL de nivel de almacenamiento, lo que significa que puede eliminar datos antiguos de forma automática y periódica. El beneficio de usar TTL es que, con suerte, puede controlar el uso total del espacio en disco y evitar que la máquina se quede sin discos. Además, el rendimiento de la consulta puede disminuir a medida que aumenta el número total de archivos y el uso de memoria también aumenta a medida que hay más archivos. La eliminación oportuna de estos archivos ayuda a mantener un alto nivel de rendimiento de consultas y reduce el uso de memoria. Las operaciones TTL en IoTDB están respaldadas por las siguientes tres declaraciones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Establecer TTL</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SET TTL TO StorageGroupName TTLTime
Eg. SET TTL TO root.group1 3600000
This example means that for data in root.group1, only that of the latest 1 hour will remain, the
older one is removed or made invisible.
Note: TTLTime should be millisecond timestamp. When TTL is set, insertions that fall
out of TTL will be rejected.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Quitar TTL</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">UNSET TTL TO StorageGroupName
Eg. UNSET TTL TO root.group1
This example means that data of all time will be accepted in this group.</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Mostrar TTL</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW ALL TTL
SHOW TTL ON StorageGroupNames
Eg.1 SHOW ALL TTL
This example will show TTLs of all storage groups.
Eg.2 SHOW TTL ON root.group1,root.group2,root.group3
This example will show TTLs of the specified 3 groups.
Notice: storage groups without TTL will show a "null"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Aviso: cuando configura TTL en algunos grupos de almacenamiento, los datos fuera del TTL se volverán invisibles de inmediato, pero debido a que los archivos de datos pueden contener datos tanto obsoletos como vivos o los archivos de datos pueden estar siendo utilizados por consultas, la eliminación física de datos está obsoleto. Si aumenta o desarma TTL justo después de configurarlo previamente, es posible que se vuelvan a ver algunos datos previamente invisibles, pero el que se eliminó físicamente se perderá para siempre. En otras palabras, a diferencia de la declaración de eliminación, la atomicidad de la eliminación de datos no está garantizada por cuestiones de eficiencia. Por lo tanto, le recomendamos que no cambie el TTL una vez que esté configurado o al menos no lo restablezca con frecuencia, a menos que esté decidido a sufrir la imprevisibilidad.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Eliminar Partición (Experimental)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">DELETE PARTITION StorageGroupName INT(COMMA INT)*
Eg DELETE PARTITION root.sg1 0,1,2
This example will delete the first 3 time partitions of storage group root.sg1.</code></pre>
</div>
</div>
<div class="paragraph">
<p>El ID de partición se puede encontrar en carpetas de datos o se puede convertir usando <code>timestamp / partitionInterval</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_seguimiento_de_rendimiento"><a class="anchor" href="#_seguimiento_de_rendimiento"></a>Seguimiento de Rendimiento</h2>
<div class="sectionbody">
<div class="paragraph">
<p>IoTDB admite el seguimiento de la ejecución de declaraciones de consulta mediante el uso de declaraciones <code>TRACING</code>. El número de archivos tsfile y fragmentos a los que accede la consulta, etc. se genera a través del archivo de registro. La ubicación de salida predeterminada está en <code>./data/tracing</code>. La función de seguimiento del rendimiento está desactivada de forma predeterminada. Los usuarios pueden usar el comando <code>TRACING ON/OFF</code> para activar/desactivar esta función.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">TRACING ON    // Open performance tracing
TRACING OFF   // Close performance tracing</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_matar_consulta"><a class="anchor" href="#_matar_consulta"></a>Matar Consulta</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Mostrar la Lista de Consultas en Curso</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SHOW QUERY PROCESSLIST</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Matar Consulta</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">KILL QUERY INT?
E.g. KILL QUERY
E.g. KILL QUERY 2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_identificadores"><a class="anchor" href="#_identificadores"></a>Identificadores</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">QUOTE := '\'';
DOT := '.';
COLON : ':' ;
COMMA := ',' ;
SEMICOLON := ';' ;
LPAREN := '(' ;
RPAREN := ')' ;
LBRACKET := '[';
RBRACKET := ']';
EQUAL := '=' | '==';
NOTEQUAL := '&lt;&gt;' | '!=';
LESSTHANOREQUALTO := '&lt;=';
LESSTHAN := '&lt;';
GREATERTHANOREQUALTO :'&gt;=';
GREATERTHAN := '&gt;';
DIVIDE := '/';
PLUS := '+';
MINUS := '-';
STAR := '*';
Letter := 'a'..'z' | 'A''Z';
HexDigit := 'a'..'f' 'A'..'F';
Digit := '0'..'9';
Boolean := TRUE | FALSE 0 | 1 (case insensitive)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">StringLiteral := ( '\'' ( ~('\'') )* '\'' | '\"' ( ~('\"') )* '\"');
eg. 'abc'
eg. 'abc'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">Integer := ('-' | '+')? Digit+;
eg. 123
eg. -222</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">Float := ('-' | '+')? Digit+ DOT Digit+ (('e' | 'E') ('-' | '+')? Digit+)?;
eg. 3.1415
eg. 1.2E10
eg. -1.33</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">Identifier := (Letter | '_') (Letter | Digit | '_' | MINUS)*;
eg. a123
eg. _abc123</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_literales"><a class="anchor" href="#_literales"></a>Literales</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">PointValue : Integer | Float | StringLiteral | Boolean</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">TimeValue : Integer | DateTime | ISO8601 | NOW()
Note: Integer means timestamp type.

DateTime :
eg. 2016-11-16T16:22:33+08:00
eg. 2016-11-16 16:22:33+08:00
eg. 2016-11-16T16:22:33.000+08:00
eg. 2016-11-16 16:22:33.000+08:00
Note: DateTime Type can support several types, see Chapter 3 Datetime section for details.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">PrecedenceEqualOperator : EQUAL | NOTEQUAL | LESSTHANOREQUALTO | LESSTHAN | GREATERTHANOREQUALTO | GREATERTHAN</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">Timeseries : ROOT [DOT &lt;LayerName&gt;]* DOT &lt;SensorName&gt;
LayerName : Identifier
SensorName : Identifier
eg. root.ln.wf01.wt01.status
eg. root.sgcc.wf03.wt01.temperature
Note: Timeseries must be start with `root`(case insensitive) and end with sensor name.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">PrefixPath : ROOT (DOT &lt;LayerName&gt;)*
LayerName : Identifier | STAR
eg. root.sgcc
eg. root.*</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">Path: (ROOT | &lt;LayerName&gt;) (DOT &lt;LayerName&gt;)*
LayerName: Identifier | STAR
eg. root.ln.wf01.wt01.status
eg. root.*.wf01.wt01.status
eg. root.ln.wf01.wt01.*
eg. *.wt01.*
eg. *</code></pre>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Esta página fue hecha usando la interfaz predeterminada de Antora.</p>
  <p>El código de esta interfaz está licenciado bajo los términos de la licencia MPL-2.0.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>

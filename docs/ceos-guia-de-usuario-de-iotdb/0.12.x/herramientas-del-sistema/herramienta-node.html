<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Herramienta Node :: Guía de Usuario de IoTDB</title>
    <link rel="canonical" href="https://aumandaris.github.io/ceos-guia-de-usuario-de-iotdb/ceos-guia-de-usuario-de-iotdb/0.12.x/index.html/ceos-guia-de-usuario-de-iotdb/0.12.x/herramientas-del-sistema/herramienta-node.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://aumandaris.github.io/ceos-guia-de-usuario-de-iotdb/ceos-guia-de-usuario-de-iotdb/0.12.x/index.html">
        <img src="/ceos-guia-de-usuario-de-iotdb/ceos-guia-de-usuario-de-iotdb/0.12.x/_images/ceos-logo.png" width="40">
        <span>Guía de Usuario de IoTDB<span>     
      </a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ceos-guia-de-usuario-de-iotdb" data-version="0.12.x">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Guía de Usuario de IoTDB</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introducción a IoTDB</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduccion-a-iotdb/que-es-iotdb.html">Qué es IoTDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduccion-a-iotdb/arquitectura.html">Arquitectura</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#introduccion-a-iotdb/escenario.adoc">Escenarios</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduccion-a-iotdb/caracteristicas.html">Características</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduccion-a-iotdb/publicacion.html">Publicación</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Inicio Rápido</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../inicio-rapido/inicio-rapido.html">Inicio Rápido</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../inicio-rapido/configuracion-de-ruta-de-almacenamiento.html">Configuración de Ruta de Almacenamiento</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../inicio-rapido/obtener-archivos-binarios-de-iotdb.html">Obtener Archivos Binarios de IoTDB</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Concepto de Datos</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/modelo-de-datos-y-terminologia.html">Modelo de Datos y Terminología</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/tipo-de-datos.html">Tipo de Datos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/codificacion.html">Codificación</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/compresion.html">Compresión</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepto-de-datos/sdt.html">SDT</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Interfaz de Línea de Comandos</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../interfaz-de-linea-de-comandos/interfaz-de-linea-de-comandos.html">Interfaz de Línea de Comandos</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Gestión de la Administración</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../gestion-de-la-administracion/administracion.html">Administración</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lenguaje IoTDB-SQL</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lenguaje-iotdb-sql/ddl-lenguaje-de-definicion-de-datos.html">DDL (Lenguaje de Definición de Datos)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lenguaje-iotdb-sql/dml-lenguaje-de-manipulacion-de-datos.html">DML (Lenguaje de Manipulación de Datos)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../lenguaje-iotdb-sql/comando-de-mantenimiento.html">Comando de Mantenimiento</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API (Interfaz de Programación de Aplicaciones)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api-interfaz-de-programacion-de-aplicaciones/jdbc.html">JDBC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api-interfaz-de-programacion-de-aplicaciones/api-nativa.html">API Nativa</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api-interfaz-de-programacion-de-aplicaciones/otros-lenguajes.html">Otros Lenguajes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../api-interfaz-de-programacion-de-aplicaciones/api-tsfile.html">API TsFile</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">UDF (Función Definida por el Usuario)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../udf-funcion-definida-por-el-usuario/udf-funcion-definida-por-el-usuario.html">Función Definida por el Usuario</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Protocolo de Servicio de Comunicación</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../protocolo-de-servicio-de-comunicacion/thrift.html">Thrift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../protocolo-de-servicio-de-comunicacion/mqtt.html">MQTT</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Herramientas del Sistema</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cargar-herramienta-tsfile-externa.html">Cargar Archivo Ts Externo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="herramienta-de-seguimiento-del-rendimiento.html">Herramienta de Seguimiento del Rendimiento</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="herramienta-csv.html">Herramienta CSV</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="herramientas-de-monitoreo-y-registro.html">Herramientas de Monitorep y Registro</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="herramienta-jmx.html">Herramienta JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="herramienta-mlogparser.html">Herramienta MLogParser</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="herramienta-node.html">Herramienta Node</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="herramienta-de-visualizacion-del-historial-de-consultas.html">Herramienta de Visualización del Historial de Consultas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="herramienta-de-marca-de-agua.html">Herramienta de Marca de Agua</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Colaboración de Edge y Cloud</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../colaboracion-de-edge-y-cloud/herramienta-de-sincronizacion.html">Herramienta de Sincronización</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integración de Ecosistemas</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integracion-de-ecosistemas/grafana.html">Grafana</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Preguntas Frecuentes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../preguntas-frecuentes/preguntas-frecuentes.html">Preguntas Frecuentes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Apéndice</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apendice/manual-de-configuracion.html">Manual de Configuración</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apendice/referencia-de-sql.html">Referencia SQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apendice/codigos-de-estado.html">Códigos de Estado</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Guía de Usuario de IoTDB</span>
    <span class="version">0.12.x</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Guía de Usuario de IoTDB</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">0.12.x</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Guía de Usuario de IoTDB</a></li>
    <li>Herramientas del Sistema</li>
    <li><a href="herramienta-node.html">Herramienta Node</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/Aumandaris/ceos-guia-de-usuario-de-iotdb/edit/master/modules/ROOT/pages/herramientas-del-sistema/herramienta-node.adoc">Editar esta página</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Herramienta Node</h1>
<div class="sect1">
<h2 id="_introducción"><a class="anchor" href="#_introducción"></a>Introducción</h2>
<div class="sectionbody">
<div class="paragraph">
<p>La versión del clúster de IoTDB proporciona nodetool, una herramienta de shell para que los usuarios supervisen el estado de funcionamiento del clúster especificado. Los usuarios pueden obtener el estado del clúster ejecutando una variedad de instrucciones.</p>
</div>
<div class="paragraph">
<p>A continuación se describe el uso y ejemplos de cada instrucción, donde <code>$IOTDB_CLUSTER_HOME</code> indica la ruta del directorio de instalación de IoTDB distribuido.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerrequisitos"><a class="anchor" href="#_prerrequisitos"></a>Prerrequisitos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para utilizar la herramienta de nodo, debe habilitar el servicio JMX. Consulte la [herramienta JMX] para obtener más detalles.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_instrucciones"><a class="anchor" href="#_instrucciones"></a>Instrucciones</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_empezar"><a class="anchor" href="#_empezar"></a>Empezar</h3>
<div class="paragraph">
<p>El script de inicio de la herramienta de shell de nodetool se encuentra en la carpeta <code>$IOTDB_CLUSTER_HOME/sbin</code>, puede especificar la dirección IP y el puerto del clúster durante el inicio.</p>
</div>
<div class="paragraph">
<p>IP es la IP (o nombre de host) del nodo al que espera conectarse y el puerto es el puerto de servicio JMX especificado cuando se inicia el clúster de IoTDB.</p>
</div>
<div class="paragraph">
<p>Los valores predeterminados son <code>127.0.0.1</code> y <code>31999</code>, respectivamente.</p>
</div>
<div class="paragraph">
<p>Si necesita monitorear el clúster remoto o modificar el número de puerto del servicio JMX, configure la IP y el puerto reales con las opciones <code>-h</code> y <code>-p</code>.</p>
</div>
<div class="paragraph">
<p>Cuando el servicio de autenticación JMX está habilitado, se debe especificar el nombre de usuario y la contraseña del servicio JMX. Los valores predeterminados son <code>iotdb</code> y <code>passw!d</code>, respectivamente. Utilice los parámetros de inicio <code>-u</code> y <code>-pw</code> para especificar el nombre de usuario y la contraseña del servicio JMX.</p>
</div>
</div>
<div class="sect2">
<h3 id="_explicaciones"><a class="anchor" href="#_explicaciones"></a>Explicaciones</h3>
<div class="paragraph">
<p>En un sistema distribuido, un nodo se identifica por IP de nodo, puerto de metadatos, puerto de datos y puerto de clúster <code>&lt;IP:METAPORT:DATAPORT:CLUSTERPORT&gt;</code>.</p>
</div>
<div class="sect3">
<h4 id="_mostrar_el_anillo_de_nodo"><a class="anchor" href="#_mostrar_el_anillo_de_nodo"></a>Mostrar el Anillo de Nodo</h4>
<div class="paragraph">
<p>IoTDB distribuido utiliza hash coherente para respaldar la distribución de datos.</p>
</div>
<div class="paragraph">
<p>Puede conocer cada nodo del clúster mediante el comando <code>ring</code>, que imprime la información del anillo de nodos.</p>
</div>
<div class="paragraph">
<p>1.Entrada</p>
</div>
<div class="literalblock">
<div class="content">
<pre>`ring`</pre>
</div>
</div>
<div class="paragraph">
<p>2.Salida</p>
</div>
<div class="literalblock">
<div class="content">
<pre>La salida es una cadena de varias líneas, y cada línea de cadena es un par clave-valor, donde la clave representa el identificador del nodo y el valor representa el nodo (`IP:METAPORT:DATAPORT:CLUSTERPORT`), el formato es `&lt;clave- &gt; valor&gt;`.</pre>
</div>
</div>
<div class="paragraph">
<p>3.Ejemplos</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Suponga que el clúster actual se ejecuta en tres nodos: `127.0.0.1:9003:40010:6667`, 127.0.0.1:9005:40012:6668 y `127.0.0.1:9007:40014:6669`.</pre>
</div>
</div>
<div class="paragraph">
<p>Los ejemplos de instrucciones de entrada para diferentes sistemas son los siguientes:</p>
</div>
<div class="paragraph">
<p>Linux y MacOS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; ./sbin/nodetool.sh -h 127.0.0.1 -p 31999 ring</code></pre>
</div>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; .\sbin\nodetool.bat -h 127.0.0.1 -p 31999 ring</code></pre>
</div>
</div>
<div class="paragraph">
<p>Presione enter para ejecutar el comando.</p>
</div>
<div class="paragraph">
<p>El resultado de la instrucción de ejemplo es el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Node Identifier                                 Node
330411070           -&gt;          127.0.0.1:9003:40010:6667
330454032           -&gt;          127.0.0.1:9005:40012:6668
330496472           -&gt;          127.0.0.1:9007:40014:6669</code></pre>
</div>
</div>
<div class="paragraph">
<p>La salida anterior muestra que hay tres nodos en el clúster actual, y los resultados de la salida están ordenados por su identificador ascendente.</p>
</div>
</div>
<div class="sect3">
<h4 id="_consultar_partición_de_datos_y_partición_de_metadatos"><a class="anchor" href="#_consultar_partición_de_datos_y_partición_de_metadatos"></a>Consultar Partición de Datos y Partición de Metadatos</h4>
<div class="paragraph">
<p>Los metadatos de la serie temporal de iotdb distribuido se dividen en varios grupos de datos según sus grupos de almacenamiento, en los que el grupo de almacenamiento y la partición de datos tienen una relación de muchos a uno.</p>
</div>
<div class="paragraph">
<p>Es decir, todos los metadatos de un grupo de almacenamiento solo existen en el mismo grupo de datos y un grupo de datos puede contener varios grupos de almacenamiento.</p>
</div>
<div class="paragraph">
<p>Los datos se dividen en varios grupos de datos según su grupo de almacenamiento y marca de tiempo, y la granularidad de la partición de tiempo se decide mediante una configuración (actualmente no disponible).</p>
</div>
<div class="paragraph">
<p>La partición de datos se compone de varios nodos de réplica para garantizar una alta disponibilidad de datos, y uno de los nodos desempeña el papel de líder.</p>
</div>
<div class="paragraph">
<p>A través de esta instrucción, el usuario puede conocer los metadatos de una determinada ruta y los nodos en los que se almacenan los datos.</p>
</div>
<div class="paragraph">
<p>1.Entrada</p>
</div>
<div class="literalblock">
<div class="content">
<pre>La instrucción para consultar la información de la partición de datos es `partition`. Los parámetros se describen a continuación:</pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parámetro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Descripción</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ejemplos</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-m</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--metadata</code> Partición de metadatos de consulta, de forma predeterminada solo partición de datos de consulta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-m</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-path</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path</code> Parámetro obligatorio, la ruta a consultar. Si la ruta no tiene un grupo de almacenamiento correspondiente, la consulta falla</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-path root.guangzhou.d1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-st</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--StartTime</code> El sistema usa el tiempo de partición actual de forma predeterminada</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-st 1576724778159</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-et</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--EndTime</code> Se utiliza al consultar la partición de datos.
La hora de finalización es la hora actual del sistema de forma predeterminada.
Si la hora de finalización es menor que la hora de inicio, la hora de finalización es la hora de inicio por defecto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-et 1576724778159</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>2.Salida</p>
</div>
<div class="literalblock">
<div class="content">
<pre>La salida es una cadena de varias líneas, y cada línea de cadena es un par clave-valor, donde la clave representa la partición y el valor representa el grupo de datos en el formato de &lt;clave -&gt; valor&gt;.</pre>
</div>
</div>
<div class="paragraph">
<p>3.Ejemplos</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Suponga que el clúster actual se ejecuta en tres nodos: `127.0.0.1:9003:40010:6667`, 127.0.0.1:9005:40012:6668 y `127.0.0.1:9007:40014:6669`.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>El número de copias es 2 y hay 3 grupos de almacenamiento: `{root.beijing, root.shanghai, root.guangzhou}`.</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Partición de los datos de la consulta (intervalo de tiempo predeterminado, el intervalo de partición de tiempo es un día)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Linux y MacOS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; ./sbin/nodetool.sh -h 127.0.0.1 -p 31999 partition -path root.guangzhou.d1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; .\sbin\nodetool.bat -h 127.0.0.1 -p 31999 partition -path root.guangzhou.d1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Presione enter para ejecutar the comando.</p>
</div>
<div class="paragraph">
<p>El resultado de la instrucción de ejemplo es el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">DATA&lt;root.guangzhou.d1, 1576723735188, 1576723735188&gt;	-&gt;	[127.0.0.1:9003:40010:6667, 127.0.0.1:9005:40012:6668]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Partición de los datos de la consulta (intervalo de tiempo especificado, el intervalo de partición de tiempo es un día)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Linux y MacOS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; ./sbin/nodetool.sh -h 127.0.0.1 -p 31999 partition -path root.guangzhou.d1 -st 1576624778159 -et 1576724778159</code></pre>
</div>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; .\sbin\nodetool.bat -h 127.0.0.1 -p 31999 partition -path root.guangzhou.d1 -st 1576624778159 -et 1576724778159</code></pre>
</div>
</div>
<div class="paragraph">
<p>Presione enter para ejecutar el comando.</p>
</div>
<div class="paragraph">
<p>El resultado de la instrucción de ejemplo es el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">DATA&lt;root.guangzhou.d1, 1576627200000, 1576713599999&gt;	-&gt;	[127.0.0.1:9007:40014:6669, 127.0.0.1:9003:40010:6667]
DATA&lt;root.guangzhou.d1, 1576713600000, 1576724778159&gt;	-&gt;	[127.0.0.1:9003:40010:6667, 127.0.0.1:9005:40012:6668]
DATA&lt;root.guangzhou.d1, 1576624778159, 1576627199999&gt;	-&gt;	[127.0.0.1:9005:40012:6668, 127.0.0.1:9007:40014:6669]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Partición de metadatos de consulta</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Linux y MacOS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; ./sbin/nodetool.sh -h 127.0.0.1 -p 31999 partition -path root.guangzhou.d1 -m</code></pre>
</div>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; .\sbin\nodetool.bat -h 127.0.0.1 -p 31999 partition -path root.guangzhou.d1 -m</code></pre>
</div>
</div>
<div class="paragraph">
<p>Presione enter para ejecutar el comando.</p>
</div>
<div class="paragraph">
<p>El resultado de la instrucción de ejemplo es el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">DATA&lt;root.guangzhou.d1, 1576723735188, 1576723735188&gt;	-&gt;	[127.0.0.1:9003:40010, 127.0.0.1:9004:40011]</code></pre>
</div>
</div>
<div class="paragraph">
<p>El resultado anterior muestra que el grupo de datos al que pertenece <code>root.guangzhou.d1</code> contiene dos nodos, de los cuales <code>127.0.0.1:9003:40010</code> es el nodo de encabezado.</p>
</div>
</div>
<div class="sect3">
<h4 id="_consultar_el_número_de_slots_gestionados_por_el_nodo"><a class="anchor" href="#_consultar_el_número_de_slots_gestionados_por_el_nodo"></a>Consultar el Número de Slots Gestionados por el Nodo</h4>
<div class="paragraph">
<p>IoTDB distribuido divide los datos en un número fijo de (<code>10000</code> por defecto) ranuras, y el líder del grupo de administración del clúster divide las ranuras entre los grupos de datos.</p>
</div>
<div class="paragraph">
<p>A través de esta instrucción, puede conocer la cantidad de ranuras administradas por cada grupo de datos.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Aporte</p>
<div class="literalblock">
<div class="content">
<pre>El comando para consultar la información de la partición de datos correspondiente al nodo es `host`.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Los parámetros se describen a continuación:</pre>
</div>
</div>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parámetro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Descripción</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ejemplos</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-a</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--all</code> Consulta la cantidad de ranuras administradas por todos los grupos de datos. De forma predeterminada, solo se muestran los grupos de datos del nodo de consulta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-a</code></p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Salida</p>
<div class="literalblock">
<div class="content">
<pre>La salida es una cadena de varias líneas, en la que cada línea es un par clave-valor, donde la clave representa el grupo de datos y el valor representa el número de ranuras administradas, y el formato es &lt;clave -&gt; valor&gt;.</pre>
</div>
</div>
</li>
<li>
<p>Ejemplos</p>
<div class="literalblock">
<div class="content">
<pre>Suponga que el clúster actual se ejecuta en tres nodos: `127.0.0.1:9003:40010:6667`, `127.0.0.1:9005:40012:6668` y `127.0.0.1:9007:40014:6669`, y el número de copias es 2.</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Grupo de Particiones Predeterminado</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Linux y MacOS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; ./sbin/nodetool.sh -h 127.0.0.1 -p 31999 host</code></pre>
</div>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; .\sbin\nodetool.bat -h 127.0.0.1 -p 31999 host</code></pre>
</div>
</div>
<div class="paragraph">
<p>Presione enter para ejecutar el comando.</p>
</div>
<div class="paragraph">
<p>El resultado de la instrucción de ejemplo es el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Raft group                                                 Slot Number
(127.0.0.1:9003:40010:6667, 127.0.0.1:9005:40012:6668)      -&gt;                3333
(127.0.0.1:9007:40014:6669, 127.0.0.1:9003:40010:6667)      -&gt;                3334</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Todos los Grupos de Particiones</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Linux y MacOS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; ./sbin/nodetool.sh -h 127.0.0.1 -p 31999 host -a</code></pre>
</div>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; .\sbin\nodetool.bat -h 127.0.0.1 -p 31999 host -a</code></pre>
</div>
</div>
<div class="paragraph">
<p>Presione enter para ejecutar el comando.</p>
</div>
<div class="paragraph">
<p>El resultado de la instrucción de ejemplo es el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Raft group                                                 Slot Number
(127.0.0.1:9003:40010:6667, 127.0.0.1:9005:40012:6668)      -&gt;                3333
(127.0.0.1:9005:40012:6668, 127.0.0.1:9007:40014:6669)      -&gt;                3333
(127.0.0.1:9007:40014:6669, 127.0.0.1:9003:40010:6667)      -&gt;                3334</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_consultar_estado_del_nodo"><a class="anchor" href="#_consultar_estado_del_nodo"></a>Consultar Estado del Nodo</h4>
<div class="paragraph">
<p>IoTDB distribuido contiene varios nodos. Para cualquier nodo, existe la posibilidad de que no pueda proporcionar servicios normalmente debido a problemas de red o hardware.</p>
</div>
<div class="paragraph">
<p>A través de esta instrucción, puede conocer el estado actual de todos los nodos del clúster.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Entrada</p>
<div class="literalblock">
<div class="content">
<pre>status</pre>
</div>
</div>
</li>
<li>
<p>Salida</p>
<div class="literalblock">
<div class="content">
<pre>La salida es una cadena de varias líneas, donde cada línea es un par clave-valor, donde la clave representa el nodo (`IP: METAPORT:DATAPORT`), el valor indica el estado del nodo, "`on`" es normal, "`off`" es anormal y el formato es &lt;clave -&gt; valor&gt;.</pre>
</div>
</div>
</li>
<li>
<p>Ejemplos</p>
<div class="literalblock">
<div class="content">
<pre>Suponga que el clúster actual se ejecuta en tres nodos: `127.0.0.1:9003:40010:6667`, 127.0.0.1:9005:40012:6668 y `127.0.0.1:9007:40014:6669`, y el número de copias es 2.</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Linux y MacOS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; ./sbin/nodetool.sh -h 127.0.0.1 -p 31999 status</code></pre>
</div>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Shell &gt; .\sbin\nodetool.bat -h 127.0.0.1 -p 31999 status</code></pre>
</div>
</div>
<div class="paragraph">
<p>Presione enter para ejecutar el comando.</p>
</div>
<div class="paragraph">
<p>El resultado de la instrucción de ejemplo es el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Shell hljs" data-lang="Shell">Node                                Status
127.0.0.1:9003:40010:6667          -&gt;        on
127.0.0.1:9005:40012:6668          -&gt;        off
127.0.0.1:9007:40014:6669          -&gt;        on</code></pre>
</div>
</div>
<div class="paragraph">
<p>El resultado anterior indica que los nodos <code>127.0.0.1:9003:40010:6667</code> y los nodos <code>127.0.0.1:9007:40014:6669</code> están en estado normal, y los nodos <code>127.0.0.1:9005:40012:6668</code> no pueden proporcionar servicios.</p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Esta página fue hecha usando la interfaz predeterminada de Antora.</p>
  <p>El código de esta interfaz está licenciado bajo los términos de la licencia MPL-2.0.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
